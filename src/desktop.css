/* --- DESKTOP "PHONE VIEW" (Universal Centered Layout) --- */
@media (min-width: 500px) {

    /* Nice background for the "desk" */
    body {
        background-color: #f1f5f9;
        background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
        background-size: 24px 24px;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: clamp(0.5rem, 3vw, 2rem);
        /* Responsive padding */
        overflow: auto;
        /* Allow scroll if needed */
    }

    /* The "Phone" Container */
    #app {
        box-shadow:
            0 25px 50px -12px rgba(0, 0, 0, 0.25),
            0 0 0 1px rgba(0, 0, 0, 0.05);
        /* Thin border */
        border-radius: 2rem;
        overflow: hidden;
        background: var(--color-bg);
        /* Match app bg */
        width: 100%;
        max-width: min(480px, 90vw);
        /* Increased from 420px to 480px for better screen usage */
        max-height: min(95vh, 950px);
        /* Limit height to fit on screen */
        display: flex;
        flex-direction: column;
    }

    /* Adjust container to fill #app but keep mobile internal structure */
    .container {
        border: none;
        border-radius: 0;
        box-shadow: none;
        padding: 1.5rem;
        display: flex;
        flex-direction: column;
        height: 100%;
        overflow-y: auto;
    }

    /* Content flows naturally without overflow */
    .view-content {
        flex: 0 0 auto;
    }

    /* Dark Mode Body Background */
    body.dark-theme {
        background-color: #0f172a;
        background-image: radial-gradient(#1e293b 1px, transparent 1px);
    }

    body.dark-theme #app {
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    }

    /* Hide payment label on desktop - labels on fields are enough */
    .payment-label {
        display: none;
    }

    /* Desktop Layout: Full width bill field, then payment fields in grid */
    .view-content {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    /* Bill field takes full width */
    .input-group[data-target="billEur"] {
        width: 100%;
    }

    /* Payment fields grid - two columns */
    .payment-fields-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.75rem;
        width: 100%;
    }

    /* Larger inputs for desktop */
    .currency-input {
        font-size: 2rem;
        padding: 1.25rem;
        min-height: 70px;
    }

    .payment-fields-grid .currency-input {
        font-size: 1.75rem;
        padding: 1rem;
        min-height: 65px;
    }

    /* Larger numpad buttons */
    .num-btn {
        padding: 1.75rem 0.75rem;
        font-size: 2rem;
        min-height: 80px;
    }

    .btn-clear {
        font-size: 1.1rem;
        padding: 1.25rem;
    }

    /* Larger result display */
    .result-box {
        padding: 1rem 1.25rem;
    }

    #output-change-eur {
        font-size: 2rem !important;
    }

    #output-change-bgn {
        font-size: 1rem !important;
    }
}

/* --- COMPACT DESKTOP (for 1080p and similar heights) --- */
@media (min-width: 500px) and (max-height: 1080px) {
    #app {
        max-height: 92vh;
    }

    .container {
        padding: 1.25rem;
    }

    .currency-input {
        font-size: 1.75rem;
        padding: 1rem;
        min-height: 65px;
    }

    .payment-fields-grid .currency-input {
        font-size: 1.5rem;
        padding: 0.9rem;
        min-height: 60px;
    }

    .num-btn {
        padding: 1.5rem 0.6rem;
        font-size: 1.75rem;
        min-height: 70px;
    }

    .btn-clear {
        font-size: 1rem;
    }

    .result-box {
        padding: 0.9rem 1rem;
    }

    #output-change-eur {
        font-size: 1.75rem !important;
    }
}

/* --- MEDIUM COMPACT DESKTOP (for 900p and 768p heights) --- */
@media (min-width: 500px) and (max-height: 900px) {
    #app {
        max-height: 88vh;
    }

    .container {
        padding: 1rem;
    }

    .header-row {
        margin-bottom: 1rem;
    }

    .currency-input {
        font-size: 1.5rem;
        padding: 0.85rem;
        min-height: 58px;
    }

    .payment-fields-grid .currency-input {
        font-size: 1.35rem;
        padding: 0.75rem;
        min-height: 54px;
    }

    .num-btn {
        padding: 1.25rem 0.5rem;
        font-size: 1.5rem;
        min-height: 62px;
    }

    .btn-clear {
        font-size: 0.95rem;
    }

    .result-box {
        padding: 0.8rem 0.9rem;
    }

    #output-change-eur {
        font-size: 1.5rem !important;
    }

    #output-change-bgn {
        font-size: 0.9rem !important;
    }
}

/* --- VERY COMPACT DESKTOP (for 720p-768p) --- */
@media (min-width: 500px) and (max-height: 768px) {
    #app {
        max-height: 95vh;
    }

    .container {
        padding: 0.75rem;
    }

    .header-row {
        margin-bottom: 0.5rem;
    }

    h1 {
        font-size: 1.1rem;
    }

    .input-group {
        margin-bottom: 0.5rem;
    }

    .input-label {
        font-size: 0.7rem;
        margin-bottom: 0.25rem;
    }

    .currency-input {
        font-size: 1.25rem;
        padding: 0.6rem;
        min-height: 48px;
    }

    .payment-fields-grid .currency-input {
        font-size: 1.15rem;
        padding: 0.5rem;
        min-height: 44px;
    }

    .currency-badge {
        top: 1.8rem;
        font-size: 0.7rem;
    }

    .payment-fields-grid .currency-badge {
        top: 1.6rem;
    }

    #bill-bgn-equiv {
        font-size: 0.7rem !important;
        margin-top: 0.15rem !important;
    }

    .numpad {
        gap: 0.5rem;
        margin-top: 0.75rem;
    }

    .num-btn {
        padding: 0.9rem 0.4rem;
        font-size: 1.25rem;
        min-height: 48px;
    }

    .btn-clear {
        font-size: 0.8rem;
        padding: 0.6rem;
    }

    .result-box {
        padding: 0.5rem 0.7rem;
        margin-top: 0.5rem;
    }

    #output-change-eur {
        font-size: 1.25rem !important;
    }

    #output-change-bgn {
        font-size: 0.8rem !important;
    }
}

/* --- ULTRA COMPACT DESKTOP (for 700-720p) --- */
@media (min-width: 500px) and (max-height: 720px) {
    #app {
        max-height: 98vh;
    }

    .container {
        padding: 0.4rem;
    }

    .header-row {
        margin-bottom: 0.3rem;
        padding: 0;
    }

    h1 {
        font-size: 0.95rem;
    }

    .header-actions {
        gap: 0.3rem;
    }

    .header-actions .theme-toggle {
        width: 30px;
        height: 30px;
        font-size: 0.9rem;
    }

    .view-content {
        gap: 0.4rem;
    }

    .input-group {
        margin-bottom: 0.25rem;
    }

    .input-label {
        font-size: 0.6rem;
        margin-bottom: 0.15rem;
    }

    .currency-input {
        font-size: 1.1rem;
        padding: 0.45rem;
        min-height: 38px;
    }

    .payment-fields-grid {
        gap: 0.35rem;
    }

    .payment-fields-grid .currency-input {
        font-size: 1rem;
        padding: 0.4rem;
        min-height: 36px;
    }

    .currency-badge {
        top: 1.5rem;
        font-size: 0.6rem;
        left: 0.45rem;
    }

    .payment-fields-grid .currency-badge {
        top: 1.4rem;
    }

    #bill-bgn-equiv {
        font-size: 0.6rem !important;
        margin-top: 0.1rem !important;
    }

    .numpad {
        gap: 0.3rem;
        margin-top: 0.4rem;
    }

    .num-btn {
        padding: 0.65rem 0.3rem;
        font-size: 1.1rem;
        min-height: 38px;
    }

    .btn-clear {
        font-size: 0.7rem;
        padding: 0.45rem;
        margin-top: 0.2rem;
    }

    .result-box {
        padding: 0.35rem 0.5rem;
        margin-top: 0.35rem;
    }

    #output-change-eur {
        font-size: 1.1rem !important;
    }

    #output-change-bgn {
        font-size: 0.7rem !important;
    }

    .branding-footer {
        margin-top: 0.25rem;
        padding-top: 0.25rem;
        font-size: 0.6rem;
    }
}

/* --- EXTREME COMPACT DESKTOP (for screens below 700px height) --- */
@media (min-width: 500px) and (max-height: 700px) {
    #app {
        max-height: 99vh;
    }

    .container {
        padding: 0.3rem;
    }

    .header-row {
        margin-bottom: 0.25rem;
    }

    h1 {
        font-size: 0.9rem;
    }

    .header-actions {
        gap: 0.25rem;
    }

    .header-actions .theme-toggle {
        width: 28px;
        height: 28px;
        font-size: 0.85rem;
    }

    .view-content {
        gap: 0.3rem;
    }

    .input-group {
        margin-bottom: 0.2rem;
    }

    .input-label {
        font-size: 0.55rem;
        margin-bottom: 0.1rem;
    }

    .currency-input {
        font-size: 1.05rem;
        padding: 0.4rem;
        min-height: 36px;
    }

    .payment-fields-grid {
        gap: 0.3rem;
    }

    .payment-fields-grid .currency-input {
        font-size: 0.95rem;
        padding: 0.35rem;
        min-height: 34px;
    }

    .currency-badge {
        top: 1.4rem;
        font-size: 0.55rem;
        left: 0.4rem;
    }

    .payment-fields-grid .currency-badge {
        top: 1.3rem;
    }

    #bill-bgn-equiv {
        font-size: 0.55rem !important;
        margin-top: 0.05rem !important;
    }

    .numpad {
        gap: 0.25rem;
        margin-top: 0.3rem;
    }

    .num-btn {
        padding: 0.55rem 0.25rem;
        font-size: 1.05rem;
        min-height: 36px;
    }

    .btn-clear {
        font-size: 0.65rem;
        padding: 0.4rem;
        margin-top: 0.15rem;
    }

    .result-box {
        padding: 0.3rem 0.45rem;
        margin-top: 0.3rem;
    }

    #output-change-eur {
        font-size: 1.05rem !important;
    }

    #output-change-bgn {
        font-size: 0.65rem !important;
    }

    .branding-footer {
        display: none;
    }
}