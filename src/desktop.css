/* --- DESKTOP LAYOUT (Premium Kiosk Mode) --- */
@media (min-width: 900px) {

    /* Reset Body for Desktop Center Alignment */
    body {
        background-color: #f1f5f9;
        /* Light gray background for contrast */
        padding: 2rem;
        height: 100vh;
        overflow: hidden;
        /* Prevent body scroll */
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Container: The main "Card" */
    .container {
        display: grid;
        grid-template-columns: 1.2fr 1fr;
        /* Logic left, Action right */
        grid-template-rows: auto 1fr;
        gap: 0 2.5rem;
        /* Gap between columns */

        width: 100%;
        max-width: 1100px;
        height: 85vh;
        /* Fixed height for premium feel */
        min-height: 600px;

        padding: 3rem;
        background: #ffffff;
        border-radius: 2rem;
        box-shadow:
            0 20px 25px -5px rgb(0 0 0 / 0.1),
            0 8px 10px -6px rgb(0 0 0 / 0.1);

        border: 1px solid #e2e8f0;
        overflow: hidden;
    }

    /* 1. Header (Spans Full Width) */
    .header-row {
        grid-column: 1 / -1;
        margin-bottom: 2rem;
        padding: 0;
        border: none;
        background: transparent;
    }

    h1 {
        font-size: 1.75rem;
        gap: 0.75rem;
    }

    /* Restore the "by UnrealSoft" for desktop */
    h1 span[style*="font-size: 0.4em"] {
        display: block !important;
        font-size: 0.6em !important;
        margin-top: 2px !important;
    }

    /* Hide the mobile "Calculator" text if present */
    .desktop-only {
        display: inline !important;
    }

    .header-actions {
        gap: 1rem;
    }

    #btn-fullscreen {
        display: none;
        /* Not needed on desktop usually, or keep it? Let's hide to be clean */
    }

    /* 2. Left Column: CONTROLS */

    /* Mode Switch */
    .mode-switch {
        grid-column: 1;
        margin: 0 0 2rem 0;
        max-width: 400px;
        /* Don't stretch too wide */
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        padding: 0.35rem;
        align-self: start;
    }

    .mode-btn {
        padding: 0.6rem 1rem;
        font-size: 0.95rem;
    }

    /* View Containers (Inputs) */
    #view-convert,
    #view-change {
        grid-column: 1;
        padding: 0;
        /* Reset mobile padding */
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        /* More breathing room */
        height: auto;
        overflow: visible;
        /* No scroll needed here if layout fits */
    }

    /* Input Groups */
    .input-group {
        margin-bottom: 0;
    }

    .input-label {
        font-size: 0.85rem;
        margin-bottom: 0.5rem;
        letter-spacing: 0.05em;
        color: #64748b;
    }

    .currency-input {
        font-size: 2rem;
        padding: 1rem 1.25rem;
        background: #f8fafc;
        border: 2px solid #e2e8f0;
        border-radius: 1rem;
        transition: all 0.2s ease;
    }

    .currency-input:hover {
        border-color: #cbd5e1;
    }

    .currency-input.active-input {
        background: #ffffff;
        border-color: var(--color-primary);
        box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
        /* Focus ring */
    }

    .currency-badge {
        top: 3rem;
        /* Adjust for larger input */
        left: 1.25rem;
        font-size: 0.95rem;
    }

    /* Payment Toggles */
    .payment-toggles {
        margin: 1rem 0;
    }

    .payment-toggle-btn {
        padding: 0.75rem 1rem;
        font-size: 0.9rem;
        border-radius: 0.75rem;
    }

    /* 3. Right Column: ACTIONS (Result + Numpad) */
    .bottom-section {
        grid-column: 2;
        grid-row: 2;
        background: transparent;
        border: none;
        padding: 0;
        display: flex;
        flex-direction: column;
        height: 100%;
        margin-top: -3.5rem;
        /* Pull up to align with controls top */
    }

    /* Result Box: The Hero Element */
    /* We need to override the mobile hidden state logic carefully */
    #result-container {
        display: flex !important;
        /* Always show in layout, content handled by JS? No, JS toggles display. */
        /* Wait, JS sets display:none if mode is Convert. 
       We want it VISIBLE but empty? Or just respect JS. 
       If in convert mode, maybe we show an info box or huge currency rate?
       For now, let's stick to standard behavior.
    */

        flex-direction: column !important;
        /* Stack vertically on desktop */
        align-items: flex-end;
        justify-content: center;

        background: #f0f9ff;
        /* Light blue premium bg */
        border: 2px solid #bae6fd;
        border-radius: 1.5rem;
        padding: 2rem;
        margin-bottom: 1.5rem;
        min-height: 160px;
        box-shadow: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);
    }

    /* If mode is convert, JS hides result-container. 
     We might want to vertically center the numpad if result is hidden. */

    #result-container>div:first-child {
        /* Label "РЕСТО" */
        font-size: 1rem !important;
        color: #0369a1 !important;
        margin-bottom: 0.5rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
    }

    .result-values {
        flex-direction: column !important;
        align-items: flex-end !important;
        gap: 0 !important;
    }

    #output-change-eur {
        font-size: 4rem !important;
        color: #0284c7 !important;
        /* Stronger blue */
    }

    #output-change-bgn {
        font-size: 1.25rem !important;
        color: #64748b !important;
    }

    /* Numpad Desktop */
    .numpad {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(4, 1fr);
        gap: 1rem;
        flex: 1;
        /* Fill remaining height */
        margin-top: auto;
    }

    .num-btn {
        padding: 0;
        /* Let grid size it */
        font-size: 1.5rem;
        border-radius: 1rem;
        background: #ffffff;
        border: 1px solid #e2e8f0;
        box-shadow: 0 4px 0 0 #e2e8f0;
        transition: all 0.1s ease;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .num-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 0 0 #e2e8f0;
    }

    .num-btn:active {
        transform: translateY(2px);
        box-shadow: 0 0 0 0 #e2e8f0;
    }

    /* Specific styling for Clear/Back */
    .btn-clear {
        background: #ef4444;
        color: white;
        box-shadow: 0 4px 0 0 #b91c1c;
        border: none;
    }

    .btn-clear:hover {
        background: #dc2626;
        box-shadow: 0 6px 0 0 #b91c1c;
    }

    /* Footer placement */
    .branding-footer {
        display: flex;
        grid-column: 1 / -1;
        margin-top: 1rem;
        justify-content: center;
        opacity: 0.6;
        font-size: 0.8rem;
    }

    /* Dark Mode adjustments for Desktop */
    body.dark-theme {
        background-color: #0f172a;
    }

    body.dark-theme .container {
        background: #1e293b;
        border-color: #334155;
        box-shadow:
            0 20px 25px -5px rgb(0 0 0 / 0.5),
            0 8px 10px -6px rgb(0 0 0 / 0.5);
    }

    body.dark-theme .mode-switch {
        background: #0f172a;
        border-color: #334155;
    }

    body.dark-theme .currency-input {
        background: #0f172a;
        border-color: #334155;
    }

    body.dark-theme .num-btn {
        background: #1e293b;
        border-color: #334155;
        box-shadow: 0 4px 0 0 #0f172a;
    }

    body.dark-theme .num-btn:hover {
        background: #334155;
        box-shadow: 0 6px 0 0 #0f172a;
    }

    body.dark-theme #result-container {
        background: #0f172a;
        border-color: #1e40af;
    }

    body.dark-theme #output-change-eur {
        color: #60a5fa !important;
    }
}